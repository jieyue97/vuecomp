<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>配置项 | GuoDi在线辅助平台</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/gdui/img/guodi.png">
    <meta name="description" content="基于Vue + ElementUI 的web项目工程框架，">
    
    <link rel="preload" href="/gdui/assets/css/0.styles.9692402e.css" as="style"><link rel="preload" href="/gdui/assets/js/app.d74dec98.js" as="script"><link rel="preload" href="/gdui/assets/js/6.d5b82d8e.js" as="script"><link rel="preload" href="/gdui/assets/js/141.7685439d.js" as="script">
    <link rel="stylesheet" href="/gdui/assets/css/0.styles.9692402e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/gdui/" class="home-link router-link-active"><img src="/gdui/img/guodi.png" alt="GuoDi在线辅助平台" class="logo"> <span class="site-name can-hide">GuoDi在线辅助平台</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/gdui/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/gdui/ui/components/quickstart.html" class="nav-link">
  组件一览（UI）
</a></div><div class="nav-item"><a href="/gdui/ui/echart/detail.html" class="nav-link">
  图表一览(echart)
</a></div><div class="nav-item"><a href="/gdui/ui/gojs/base.html" class="nav-link">
  关系图(link)
</a></div><div class="nav-item"><a href="/gdui/ui/iconfont.html" class="nav-link">
  图标一览(UI)
</a></div><div class="nav-item"><a href="/gdui/guide/build.html" class="nav-link">
  前端开发指南（UI）
</a></div><div class="nav-item"><a href="/gdui/javaGuide/IDEA.html" class="nav-link">
  后端开发指南（UI）
</a></div><div class="nav-item"><a href="/gdui/standard/note.html" class="nav-link">
  代码规范（UI）
</a></div><div class="nav-item"><a href="/gdui/question/index.html" class="nav-link">
  常见问题
</a></div><div class="nav-item"><a href="/gdui/changelog.html" class="nav-link">
  产品发布
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/gdui/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/gdui/ui/components/quickstart.html" class="nav-link">
  组件一览（UI）
</a></div><div class="nav-item"><a href="/gdui/ui/echart/detail.html" class="nav-link">
  图表一览(echart)
</a></div><div class="nav-item"><a href="/gdui/ui/gojs/base.html" class="nav-link">
  关系图(link)
</a></div><div class="nav-item"><a href="/gdui/ui/iconfont.html" class="nav-link">
  图标一览(UI)
</a></div><div class="nav-item"><a href="/gdui/guide/build.html" class="nav-link">
  前端开发指南（UI）
</a></div><div class="nav-item"><a href="/gdui/javaGuide/IDEA.html" class="nav-link">
  后端开发指南（UI）
</a></div><div class="nav-item"><a href="/gdui/standard/note.html" class="nav-link">
  代码规范（UI）
</a></div><div class="nav-item"><a href="/gdui/question/index.html" class="nav-link">
  常见问题
</a></div><div class="nav-item"><a href="/gdui/changelog.html" class="nav-link">
  产品发布
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>关系图安装与使用</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/gdui/ui/gojs/base.html" class="sidebar-link">使用方法</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>使用示例</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>常用示例</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/gdui/ui/gojs/layoutTree.html" class="sidebar-link">树结构</a></li><li><a href="/gdui/ui/gojs/layout.html" class="sidebar-link">图谱</a></li><li><a href="/gdui/ui/gojs/layoutFlow.html" class="sidebar-link">流程图</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>使用文档</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/gdui/ui/gojs/init.html" class="sidebar-link">初始化</a></li><li><a href="/gdui/ui/gojs/document.html" aria-current="page" class="active sidebar-link">配置项</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/gdui/ui/gojs/event.html" class="sidebar-link">事件与方法</a></li><li><a href="/gdui/ui/gojs/canvasMethod.html" class="sidebar-link">画布</a></li><li><a href="/gdui/ui/gojs/nodeMethod.html" class="sidebar-link">节点</a></li><li><a href="/gdui/ui/gojs/linkMethod.html" class="sidebar-link">连线</a></li><li><a href="/gdui/ui/gojs/treeMethod.html" class="sidebar-link">树</a></li><li><a href="/gdui/ui/gojs/adddeleteMethod.html" class="sidebar-link">增删改查</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="配置项"><a href="#配置项" class="header-anchor">#</a> 配置项</h1> <h3 id="配置相关"><a href="#配置相关" class="header-anchor">#</a> 配置相关</h3> <ul><li>初始化配置（defalutOption）</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">initialContentAlignment</span><span class="token operator">:</span> go<span class="token punctuation">.</span>Spot<span class="token punctuation">.</span>Center<span class="token punctuation">,</span> <span class="token comment">// 居中显示</span>
  <span class="token literal-property property">isReadOnly</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 只读，无法编辑操作</span>
  <span class="token literal-property property">allowMove</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许拖动画板</span>
  <span class="token literal-property property">allowDragOut</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许拖拽节点</span>
  <span class="token literal-property property">allowDelete</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许删除节点</span>
  <span class="token literal-property property">allowCopy</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许复制节点</span>
  <span class="token literal-property property">allowClipboard</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许粘贴节点</span>
  <span class="token literal-property property">scale</span><span class="token operator">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span> <span class="token comment">// 初始视图大小比例</span>
  <span class="token literal-property property">minScale</span><span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token comment">// 最小视图的缩小比例</span>
  <span class="token literal-property property">maxScale</span><span class="token operator">:</span> <span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token comment">// 最大视图的放大比例</span>
  <span class="token literal-property property">scrollMargin</span><span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token comment">// 默认下拖拽画布的时候边界是已最外的节点为边距，这个就是增加边距的，类似padding设置</span>
  <span class="token literal-property property">fixedBounds</span><span class="token operator">:</span> <span class="token punctuation">,</span> <span class="token comment">//设置图表边界</span>

  <span class="token string-property property">'undoManager.isEnabled'</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 支持 Ctrl-Z 和 Ctrl-Y 操作 （撤回和复原）</span>
  <span class="token string-property property">'toolManager.hoverDelay'</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token comment">// tooltip提示显示延时</span>
  <span class="token string-property property">'toolManager.toolTipDuration'</span><span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token comment">// tooltip持续显示时间</span>
  <span class="token string-property property">'grid.visible'</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 显示网格</span>
  <span class="token string-property property">'toolManager.mouseWheelBehavior'</span><span class="token operator">:</span> go<span class="token punctuation">.</span>ToolManager<span class="token punctuation">.</span>WheelZoom<span class="token punctuation">,</span> <span class="token comment">// 有鼠标滚轮事件放大和缩小，而不是向上和向下滚动</span>
  <span class="token string-property property">'clickCreatingTool.archetypeNodeData'</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">category</span><span class="token operator">:</span> <span class="token string">'Normal'</span><span class="token punctuation">,</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'新节点'</span><span class="token punctuation">,</span> <span class="token literal-property property">notice</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// 双击新建节点(可以写入节点的默认信息)；</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><ul><li>节点配置</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
	<span class="token comment">// 节点阴影设置</span>
	<span class="token literal-property property">isShadowed</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token literal-property property">shadowOffset</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">go<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//阴影的位置偏移</span>
	<span class="token literal-property property">shadowColor</span><span class="token operator">:</span> <span class="token string">'#C5C1AA'</span><span class="token punctuation">,</span>

	<span class="token literal-property property">zOrder</span><span class="token operator">:</span> <span class="token number">99999</span><span class="token comment">//层级</span>
	<span class="token literal-property property">movable</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//是否可拖动</span>
	<span class="token literal-property property">deletable</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//是否可删除</span>
	<span class="token literal-property property">selectable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//是否可选择</span>
	<span class="token literal-property property">selectionAdorned</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//显示选中边框</span>
	<span class="token literal-property property">copyable</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//可复制的</span>
	location<span class="token punctuation">,</span> <span class="token comment">//节点坐标，还不会用</span>
	<span class="token literal-property property">minLocation</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">go<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//节点坐标最小位置</span>
	<span class="token literal-property property">maxLocation</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">go<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">9999</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//节点坐标最大位置</span>
	<span class="token literal-property property">isSelected</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//默认fasle,true(操作型属性无法在模板定义，只能在节点生成后操作)例如，节点或线对象.isSelected=true;</span>
	<span class="token literal-property property">reshapable</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 重塑(改变shape形状边界时使用，将影响节点大小)</span>
	<span class="token literal-property property">resizable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 可调整大小的(手动调整节点大小时，节点内容显示区域时使用)</span>
	<span class="token literal-property property">resizeCellSize</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">go<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//可调整的范围</span>
	<span class="token literal-property property">rotatable</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 可旋转的</span>

	<span class="token comment">//这三个一起配合，固定选中的节点框只选中名为BODY的面板</span>
	<span class="token literal-property property">locationSpot</span><span class="token operator">:</span> go<span class="token punctuation">.</span>Spot<span class="token punctuation">.</span>Center<span class="token punctuation">,</span>
	<span class="token literal-property property">locationObjectName</span><span class="token operator">:</span> <span class="token string">'BODY'</span><span class="token punctuation">,</span>
	<span class="token literal-property property">selectionObjectName</span><span class="token operator">:</span> <span class="token string">'BODY'</span>

	<span class="token comment">//固定连接点位置</span>
	<span class="token literal-property property">fromSpot</span><span class="token operator">:</span> go<span class="token punctuation">.</span>Spot<span class="token punctuation">.</span>RightCenter<span class="token punctuation">,</span>
	<span class="token literal-property property">toSpot</span><span class="token operator">:</span> go<span class="token punctuation">.</span>Spot<span class="token punctuation">.</span>LeftCenter

	<span class="token literal-property property">desiredSize</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">go<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//设置大小</span>

	<span class="token literal-property property">avoidable</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token comment">//线绕开经过的节点,不从节点穿过，Link.routing 为AvoidsNodes才能使用</span>
	<span class="token literal-property property">avoidableMargin</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">go<span class="token punctuation">.</span>Margin</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token comment">// 线绕开经过的节点的边距，默认6,6,6,6</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><ul><li>树结构配置</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>myDiagram<span class="token punctuation">.</span>layout <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>go<span class="token punctuation">.</span>TreeLayout<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">// 树结构</span>
  <span class="token literal-property property">angle</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">//树结构的方向</span>
  <span class="token literal-property property">layerSpacing</span><span class="token operator">:</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token comment">//节点之间的距离</span>
  <span class="token literal-property property">isOngoing</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否开启自动布局</span>
  <span class="token literal-property property">isTreeExpanded</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否展开子节点</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>连接线的配置</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>myDiagram<span class="token punctuation">.</span>linkTemplate <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>
  go<span class="token punctuation">.</span>Link<span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">routing</span><span class="token operator">:</span> go<span class="token punctuation">.</span>Link<span class="token punctuation">.</span>Orthogonal<span class="token punctuation">,</span> <span class="token comment">// 线会自动90度转弯（AvoidsNodes自动绕开节点）</span>
    <span class="token literal-property property">curve</span><span class="token operator">:</span> go<span class="token punctuation">.</span>Link<span class="token punctuation">.</span>JumpGap<span class="token punctuation">,</span> <span class="token comment">// 线与线相交会自动不重叠（还有go.Link.Bezier贝塞尔曲线）</span>
    <span class="token literal-property property">corner</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// 拐角弧度</span>
    <span class="token literal-property property">toEndSegmentLength</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token comment">//目的点线的固定距离（如果设置了自动拐角就是最短距离）</span>
    <span class="token literal-property property">fromEndSegmentLength</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token comment">//出发点线的固定距离（如果设置了自动拐角就是最短距离）</span>
    fromShortLength<span class="token punctuation">,</span> <span class="token comment">//设置线的出发点到端口的距离</span>
    toShortLength<span class="token punctuation">,</span> <span class="token comment">//设置线的结束点到端口的距离</span>
    <span class="token literal-property property">zOrder</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">111</span><span class="token punctuation">,</span> <span class="token comment">//图像层级</span>
    <span class="token literal-property property">selectable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//连接线是否可选</span>
    <span class="token literal-property property">fromSpot</span><span class="token operator">:</span> go<span class="token punctuation">.</span>Spot<span class="token punctuation">.</span>LeftRightSides<span class="token punctuation">,</span> <span class="token comment">//连线出发点强制为（new go.Spot(0.5, 0.5, 0, -25)为自定义）</span>
    <span class="token literal-property property">toSpot</span><span class="token operator">:</span> go<span class="token punctuation">.</span>Spot<span class="token punctuation">.</span>LeftRightSides<span class="token punctuation">,</span> <span class="token comment">//连线目的点强制为</span>
    <span class="token literal-property property">reshapable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">resegmentable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">relinkableFrom</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//出发点是否可以改变</span>
    <span class="token literal-property property">relinkableTo</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//目标点是否可改变</span>
    <span class="token literal-property property">adjusting</span><span class="token operator">:</span> go<span class="token punctuation">.</span>Link<span class="token punctuation">.</span>Stretch<span class="token punctuation">,</span>
    <span class="token literal-property property">fromMaxLinks</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//限制一个连接点的连接次数</span>
    <span class="token literal-property property">toMaxLinks</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">//限制一个连接点的连接次数</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// 如果link数据有fromSpot，toSpot属性则可绑定</span>
  <span class="token keyword">new</span> <span class="token class-name">go<span class="token punctuation">.</span>Binding</span><span class="token punctuation">(</span><span class="token string">'fromSpot'</span><span class="token punctuation">,</span> <span class="token string">'fromSpot'</span><span class="token punctuation">,</span> go<span class="token punctuation">.</span>Spot<span class="token punctuation">.</span>parse<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">go<span class="token punctuation">.</span>Binding</span><span class="token punctuation">(</span><span class="token string">'toSpot'</span><span class="token punctuation">,</span> <span class="token string">'toSpot'</span><span class="token punctuation">,</span> go<span class="token punctuation">.</span>Spot<span class="token punctuation">.</span>parse<span class="token punctuation">)</span><span class="token punctuation">,</span>

  <span class="token function">$</span><span class="token punctuation">(</span>go<span class="token punctuation">.</span>Shape<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">strokeWidth</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 节点连线宽度</span>
    <span class="token literal-property property">stroke</span><span class="token operator">:</span> <span class="token string">'#57CFE3'</span><span class="token punctuation">,</span> <span class="token comment">// 节点连线颜色</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function">$</span><span class="token punctuation">(</span>go<span class="token punctuation">.</span>Shape<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">toArrow</span><span class="token operator">:</span> <span class="token string">'Standard'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">scale</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// 箭头放大倍数</span>
    <span class="token literal-property property">fill</span><span class="token operator">:</span> <span class="token string">'#57CFE3'</span><span class="token punctuation">,</span> <span class="token comment">// 箭头填充色</span>
    <span class="token literal-property property">stroke</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">// 外边框颜色</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><ul><li>鼠标框选配置</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>myDiagram<span class="token punctuation">.</span>toolManager<span class="token punctuation">.</span>dragSelectingTool <span class="token operator">=</span> <span class="token keyword">null</span> <span class="token comment">// 禁止框选</span>

myDiagram<span class="token punctuation">.</span>toolManager<span class="token punctuation">.</span>dragSelectingTool<span class="token punctuation">.</span>box <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>
  go<span class="token punctuation">.</span>Part<span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">layerName</span><span class="token operator">:</span> <span class="token string">'Tool'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">selectable</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">$</span><span class="token punctuation">(</span>go<span class="token punctuation">.</span>Shape<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'SHAPE'</span><span class="token punctuation">,</span> <span class="token literal-property property">fill</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token literal-property property">stroke</span><span class="token operator">:</span> <span class="token string">'chartreuse'</span><span class="token punctuation">,</span> <span class="token literal-property property">strokeWidth</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>节点选中时边框的配置</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token function">$</span><span class="token punctuation">(</span>go<span class="token punctuation">.</span>Adornment<span class="token punctuation">,</span> <span class="token string">'Auto'</span><span class="token punctuation">,</span> <span class="token function">$</span><span class="token punctuation">(</span>go<span class="token punctuation">.</span>Shape<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">fill</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token literal-property property">stroke</span><span class="token operator">:</span> <span class="token string">'deepskyblue'</span><span class="token punctuation">,</span> <span class="token literal-property property">strokeWidth</span><span class="token operator">:</span> <span class="token number">1.5</span><span class="token punctuation">,</span> <span class="token literal-property property">strokeDashArray</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">$</span><span class="token punctuation">(</span>go<span class="token punctuation">.</span>Placeholder<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>全局缩略图的配置</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">let</span> myOverview <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>go<span class="token punctuation">.</span>Overview<span class="token punctuation">,</span> <span class="token string">'myOverviewDiv'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">observed</span><span class="token operator">:</span> mySelf<span class="token punctuation">.</span>myDiagram <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 'myOverviewDiv'为缩略图dom的id名；</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>线段吸附网格配置</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>myDiagram<span class="token punctuation">.</span>toolManager<span class="token punctuation">.</span>draggingTool<span class="token punctuation">.</span>isGridSnapEnabled <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">// 注意：要先打开网格</span>

myDiagram<span class="token punctuation">.</span>toolManager<span class="token punctuation">.</span>draggingTool<span class="token punctuation">.</span>gridSnapCllSpot <span class="token operator">=</span> go<span class="token punctuation">.</span>Spot<span class="token punctuation">.</span>MiddleBottom <span class="token comment">// 设置网格编辑捕捉对齐点</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>面板的配置</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 声明创建一个新的面板对象,自定义方式可参考mySelf.myDiagram.nodeTemplate</span>
<span class="token function">$</span><span class="token punctuation">(</span>
  go<span class="token punctuation">.</span>Panel<span class="token punctuation">,</span>
  <span class="token string">'Auto'</span><span class="token punctuation">,</span> <span class="token comment">// 布局为自动（还有自定义位置Position）</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">minSize</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">go<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//最小大小</span>
    <span class="token literal-property property">visible</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 不可见</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'BODY'</span><span class="token punctuation">,</span> <span class="token comment">//面板名称</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">$</span><span class="token punctuation">(</span>
    go<span class="token punctuation">.</span>Shape<span class="token punctuation">,</span>
    <span class="token string">'RoundedRectangle'</span><span class="token punctuation">,</span> <span class="token comment">//为圆角矩形（还有矩形'Rectangle'）</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">fill</span><span class="token operator">:</span> color <span class="token operator">||</span> <span class="token string">'#5D7092'</span><span class="token punctuation">,</span> <span class="token comment">// 内填充色</span>
      <span class="token literal-property property">stroke</span><span class="token operator">:</span> <span class="token string">'#FFF'</span><span class="token punctuation">,</span> <span class="token comment">// 外边框颜色 null 为无</span>
      <span class="token literal-property property">strokeWidth</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 外边框粗细</span>
      <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token string">'#e6eefb'</span><span class="token punctuation">,</span> <span class="token comment">//可以理解为是panel的背景</span>
      <span class="token literal-property property">angle</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 应该是旋转角度</span>
      <span class="token literal-property property">position</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">go<span class="token punctuation">.</span>Point</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//如果开启了自定义位置这个就要写</span>
      <span class="token literal-property property">desiredSize</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">go<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//宽高 不设置宽高表示自适应</span>
      <span class="token comment">// 放在上一级的哪个位置，除了特定的值还可以自定义，前面两个参数表示几倍于上一级的宽高的位置，后面设置具体x，y的位置</span>
      <span class="token literal-property property">alignment</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">go<span class="token punctuation">.</span>Spot</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0.5</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">go<span class="token punctuation">.</span>Binding</span><span class="token punctuation">(</span><span class="token string">'figure'</span><span class="token punctuation">,</span> <span class="token string">'figure'</span><span class="token punctuation">)</span> <span class="token comment">// 声明并创建一个新的图形</span>
  <span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// 编辑文本域</span>
  <span class="token function">$</span><span class="token punctuation">(</span>go<span class="token punctuation">.</span>TextBlock<span class="token punctuation">,</span> <span class="token string">'默认'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">font</span><span class="token operator">:</span> <span class="token string">'12pt Helvetica, Arial, sans-serif'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">stroke</span><span class="token operator">:</span> <span class="token string">'whitesmoke'</span><span class="token punctuation">,</span> <span class="token comment">// 外边框颜色</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">125</span><span class="token punctuation">,</span> <span class="token comment">// 文本区域宽度，会覆盖minSize等但仍会生效</span>
    <span class="token literal-property property">maxLines</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">//最多显示几行,</span>
    <span class="token literal-property property">maxSize</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">go<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">360</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 最大大小，NaN表示自适应，这个目前试出来shape不能用，使用Spot布局这个属性无法使用</span>
    <span class="token literal-property property">wrap</span><span class="token operator">:</span> go<span class="token punctuation">.</span>TextBlock<span class="token punctuation">.</span>WrapFit<span class="token punctuation">,</span> <span class="token comment">//文本域可换行，大小自适应（还有文本决定宽高go.TextBlock.WrapDesiredSize，文本不能换行go.TextBlock.None）使用需要设置宽高</span>
    <span class="token literal-property property">editable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否可编辑</span>
    <span class="token literal-property property">textAlign</span><span class="token operator">:</span> center<span class="token punctuation">,</span> <span class="token comment">// 文本位置</span>
    <span class="token literal-property property">margin</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token comment">// new go.Margin(2, 0)或new go.Margin(1, 0, 0, 1)</span>
    <span class="token literal-property property">overflow</span><span class="token operator">:</span> go<span class="token punctuation">.</span>TextBlock<span class="token punctuation">.</span>OverflowEllipsis<span class="token punctuation">,</span> <span class="token comment">// 超出文本框大小的文字...代替（go.TextBlock.OverflowClip 溢出遮挡）使用需要设置宽高</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">go<span class="token punctuation">.</span>Binding</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">makeTwoWay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 注意：这里的text简写了</span>

  <span class="token function">$</span><span class="token punctuation">(</span>
    go<span class="token punctuation">.</span>Picture<span class="token punctuation">,</span> <span class="token comment">//图片，一个panel不能同时有shape</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">source</span><span class="token operator">:</span> <span class="token string">'noticeImg'</span><span class="token punctuation">,</span> <span class="token comment">// 一定要以import的方式引入图片import noticeImg from '.. '</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><ul><li>连接点的配置</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 例子：配置四个连接点，注意在pannel配置</span>
<span class="token function">makePort</span><span class="token punctuation">(</span><span class="token string">'T'</span><span class="token punctuation">,</span> go<span class="token punctuation">.</span>Spot<span class="token punctuation">.</span>Top<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token function">makePort</span><span class="token punctuation">(</span><span class="token string">'L'</span><span class="token punctuation">,</span> go<span class="token punctuation">.</span>Spot<span class="token punctuation">.</span>Left<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token function">makePort</span><span class="token punctuation">(</span><span class="token string">'R'</span><span class="token punctuation">,</span> go<span class="token punctuation">.</span>Spot<span class="token punctuation">.</span>Right<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token function">makePort</span><span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">,</span> go<span class="token punctuation">.</span>Spot<span class="token punctuation">.</span>Bottom<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token comment">// 用函数可以配置不同的连接点</span>
<span class="token keyword">function</span> <span class="token function">makePort</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> spot<span class="token punctuation">,</span> output<span class="token punctuation">,</span> input</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">$</span><span class="token punctuation">(</span>go<span class="token punctuation">.</span>Shape<span class="token punctuation">,</span> <span class="token string">'Circle'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">fill</span><span class="token operator">:</span> <span class="token string">'#44CCFF'</span><span class="token punctuation">,</span> <span class="token comment">// 颜色</span>
    <span class="token literal-property property">opacity</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 透明</span>
    <span class="token literal-property property">stroke</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">//边框颜色</span>
    <span class="token literal-property property">desiredSize</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">go<span class="token punctuation">.</span>Size</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//大小</span>
    <span class="token literal-property property">alignment</span><span class="token operator">:</span> spot<span class="token punctuation">,</span> <span class="token comment">//放置在相对与外部配置位置的（go.Spot.Left</span>
    <span class="token literal-property property">alignmentFocus</span><span class="token operator">:</span> go<span class="token punctuation">.</span>Spot<span class="token punctuation">.</span>Center<span class="token punctuation">,</span> <span class="token comment">//第二次调整</span>
    <span class="token literal-property property">portId</span><span class="token operator">:</span> name<span class="token punctuation">,</span> <span class="token comment">// 连接点ID，没有名称可能无法触发连线</span>
    <span class="token literal-property property">fromLinkable</span><span class="token operator">:</span> output<span class="token punctuation">,</span> <span class="token comment">//是否出发点可用true或者false</span>
    <span class="token literal-property property">toLinkable</span><span class="token operator">:</span> input<span class="token punctuation">,</span> <span class="token comment">// 是否目的点可用</span>
    <span class="token literal-property property">cursor</span><span class="token operator">:</span> <span class="token string">'pointer'</span><span class="token punctuation">,</span> <span class="token comment">// 移入的时候鼠标显示什么</span>
    fromShortLength<span class="token punctuation">,</span> <span class="token comment">//设置线的出发点到端口的距离</span>
    toShortLength<span class="token punctuation">,</span> <span class="token comment">//设置线的结束点到端口的距离</span>

    <span class="token literal-property property">fromSpot</span><span class="token operator">:</span> spot<span class="token punctuation">,</span> <span class="token comment">//连线出发点强制为（go.Sport.RightCenter/AllSides/）</span>
    <span class="token literal-property property">toSpot</span><span class="token operator">:</span> spot<span class="token punctuation">,</span> <span class="token comment">// 连线目的点强制为</span>
    <span class="token comment">// 如果需要这两个属性生效，必须在节点存储的方式上写</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>myDiagram<span class="token punctuation">.</span>model <span class="token operator">=</span> <span class="token constant">MAKE</span><span class="token punctuation">(</span>go<span class="token punctuation">.</span>GraphLinksModel<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">linkFromPortIdProperty</span><span class="token operator">:</span> <span class="token string">'fromPort'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">linkToPortIdProperty</span><span class="token operator">:</span> <span class="token string">'toPort'</span><span class="token punctuation">,</span>
        nodeDataArray<span class="token punctuation">,</span> <span class="token comment">//存储节点数据的变量</span>
        linkDataArray <span class="token comment">//存储连线数据的变量</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><ul><li>右键点击配置</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">contextMenu</span><span class="token operator">:</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'ContextMenu'</span><span class="token punctuation">,</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'ContextMenuButton'</span><span class="token punctuation">,</span>
      <span class="token function">$</span><span class="token punctuation">(</span>go<span class="token punctuation">.</span>TextBlock<span class="token punctuation">,</span> <span class="token string">'清除计算'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> <span class="token function-variable function">click</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'右键点击了'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token comment">// 可放在面板的配置中，面板右键触发</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>线段吸附网格配置</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>myDiagram<span class="token punctuation">.</span>toolManager<span class="token punctuation">.</span>draggingTool<span class="token punctuation">.</span>isGridSnapEnabled <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">// 注意：要先打开网格</span>

myDiagram<span class="token punctuation">.</span>toolManager<span class="token punctuation">.</span>draggingTool<span class="token punctuation">.</span>gridSnapCllSpot <span class="token operator">=</span> go<span class="token punctuation">.</span>Spot<span class="token punctuation">.</span>MiddleBottom <span class="token comment">// 设置网格编辑捕捉对齐点</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/gdui/ui/gojs/init.html" class="prev">
        初始化
      </a></span> <span class="next"><a href="/gdui/ui/gojs/event.html">
        事件与方法
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/gdui/assets/js/app.d74dec98.js" defer></script><script src="/gdui/assets/js/6.d5b82d8e.js" defer></script><script src="/gdui/assets/js/141.7685439d.js" defer></script>
  </body>
</html>
